/* Hero image visibility - ensure visible in DARK theme only (no filter) */
.hero-image,
img.hero-image,
[data-theme='dark'] .hero-image,
[data-theme='dark'] img.hero-image,
html[data-theme='dark'] .hero-image,
[data-theme='dark'] img[data-no-filter="true"],
html[data-theme='dark'] img[data-no-filter="true"] {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  filter: none !important;
  -webkit-filter: none !important;
  mix-blend-mode: normal !important;
}

/* HACKER THEME - Hero images and ALL images get green monochrome filter */
[data-theme='hacker'] .hero-image,
[data-theme='hacker'] img.hero-image,
html[data-theme='hacker'] .hero-image,
html[data-theme='hacker'] img.hero-image,
[data-theme='hacker'] img[data-no-filter="true"],
html[data-theme='hacker'] img[data-no-filter="true"],
[data-theme='hacker'] .mission-image,
[data-theme='hacker'] img.mission-image,
[data-theme='hacker'] img[data-no-filter],
[data-theme='hacker'] img {
  filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
  -webkit-filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
  opacity: 1 !important;
  display: block !important;
  visibility: visible !important;
}

/* Dark theme - Mission images preserve original colors */
[data-theme='dark'] .mission-image,
[data-theme='dark'] img.mission-image,
[data-theme='dark'] img[data-no-filter],
[data-theme='dark'] img[data-no-filter="true"] {
  filter: none !important;
  opacity: 1 !important;
  display: block !important;
  visibility: visible !important;
}

/* Avatar images - preserve natural colors in DARK theme only */
[data-theme='dark'] [class*='Avatar'] img,
[data-theme='dark'] .avatar-image,
[data-theme='dark'] [data-slot='avatar'] img {
  filter: none !important;
  opacity: 1 !important;
}

/* HACKER THEME - ALL images including avatars get green monochrome */
[data-theme='hacker'] [class*='Avatar'] img,
[data-theme='hacker'] .avatar-image,
[data-theme='hacker'] [data-slot='avatar'] img,
[data-theme='hacker'] img[src*='avatar'],
[data-theme='hacker'] img[src*='profile'],
[data-theme='hacker'] img[src*='user'],
[data-theme='hacker'] img {
  filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
}

/* Dark theme text fixes for improved readability */
[data-theme='dark'] h1, 
[data-theme='dark'] h2, 
[data-theme='dark'] h3, 
[data-theme='dark'] h4,
[data-theme='dark'] [class*='font-semibold'], 
[data-theme='dark'] [class*='font-bold'],
[data-theme='dark'] [class*='font-medium'] {
  color: #ffffff !important;
}

/* Prevent white flash on page load - SOLID backgrounds */
[data-theme='dark'] body,
[data-theme='dark'] .min-h-screen,
[data-theme='dark'] main {
  background-color: #050505 !important;
}
[data-theme='hacker'] body,
[data-theme='hacker'] .min-h-screen,
[data-theme='hacker'] main {
  background-color: #000 !important;
}

/* Force solid backgrounds on gradient containers - NO fading/opacity */
[data-theme='dark'] [class*='bg-gradient-']:not(main[data-page='CommandDeck'] *):not(.hero-gradient) {
  background-color: #050505 !important;
  background-image: none !important;
}
[data-theme='hacker'] [class*='bg-gradient-']:not(main[data-page='CommandDeck'] *):not(.hero-gradient) {
  background-color: #000 !important;
  background-image: none !important;
}

/* Override any semi-transparent white backgrounds */
[data-theme='dark'] [class*='bg-white/'],
[data-theme='dark'] [class*='bg-slate-50/'],
[data-theme='dark'] [class*='bg-gray-50/'] {
  background-color: #050505 !important;
}
[data-theme='hacker'] [class*='bg-white/'],
[data-theme='hacker'] [class*='bg-slate-50/'],
[data-theme='hacker'] [class*='bg-gray-50/'] {
  background-color: #000 !important;
}

/* Force solid slate/gray backgrounds to dark */
[data-theme='dark'] [class*='bg-slate-50'],
[data-theme='dark'] [class*='bg-slate-100'],
[data-theme='dark'] [class*='bg-gray-50'],
[data-theme='dark'] [class*='bg-gray-100'],
[data-theme='dark'] [class*='bg-white'] {
  background-color: #050505 !important;
}
[data-theme='hacker'] [class*='bg-slate-50'],
[data-theme='hacker'] [class*='bg-slate-100'],
[data-theme='hacker'] [class*='bg-gray-50'],
[data-theme='hacker'] [class*='bg-gray-100'],
[data-theme='hacker'] [class*='bg-white'] {
  background-color: #000 !important;
}

[data-theme='dark'] p,
[data-theme='dark'] span:not(.dot-glow):not(.icon-glow),
[data-theme='dark'] div:not([class*='bg-']) {
  color: #f0f0f0 !important;
}

[data-theme='dark'] [class*='text-slate-500'],
[data-theme='dark'] [class*='text-slate-400'],
[data-theme='dark'] [class*='text-gray-500'],
[data-theme='dark'] [class*='text-gray-400'],
[data-theme='dark'] [class*='text-slate-600'],
[data-theme='dark'] [class*='text-gray-600'] {
  color: #d8d8d8 !important;
}

/* Hacker theme text fixes - BRIGHT green text */
[data-theme='hacker'] h1, 
[data-theme='hacker'] h2, 
[data-theme='hacker'] h3, 
[data-theme='hacker'] h4,
[data-theme='hacker'] h5,
[data-theme='hacker'] h6,
[data-theme='hacker'] [class*='font-semibold'], 
[data-theme='hacker'] [class*='font-bold'],
[data-theme='hacker'] [class*='font-medium'] {
  color: #00ff00 !important;
  text-shadow: 0 0 8px rgba(0, 255, 0, 0.5);
}

[data-theme='hacker'] p,
[data-theme='hacker'] span:not(.dot-glow):not(.icon-glow),
[data-theme='hacker'] label,
[data-theme='hacker'] div:not([class*='bg-']),
[data-theme='hacker'] a,
[data-theme='hacker'] li,
[data-theme='hacker'] td,
[data-theme='hacker'] th {
  color: #00ff00 !important;
}

[data-theme='hacker'] [class*='text-slate-'],
[data-theme='hacker'] [class*='text-gray-'],
[data-theme='hacker'] [class*='text-zinc-'],
[data-theme='hacker'] [class*='text-neutral-'] {
  color: #00ff00 !important;
}

/* Ensure placeholders are visible in hacker theme */
[data-theme='hacker'] input::placeholder,
[data-theme='hacker'] textarea::placeholder {
  color: #006600 !important;
}

/* Command Deck background - transparent to show main background image */
.cmd-deck-bg {
  background: transparent;
}

/* Samsung Z Fold Optimization */
[data-zfold="true"] {
  /* Increase touch targets */
  --touch-target-min: 48px;
}

[data-zfold="true"] button,
[data-zfold="true"] [role="button"],
[data-zfold="true"] a {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
}

[data-zfold="true"] input,
[data-zfold="true"] textarea,
[data-zfold="true"] select {
  min-height: 48px;
  font-size: 16px;
}

/* Larger text for readability */
[data-zfold="true"] body {
  font-size: 17px;
}

[data-zfold="true"] .text-sm {
  font-size: 0.9375rem !important;
}

[data-zfold="true"] .text-xs {
  font-size: 0.8125rem !important;
}

/* Better spacing for foldable screens */
[data-zfold="true"] .p-6 {
  padding: 1.75rem;
}

[data-zfold="true"] .gap-4 {
  gap: 1.25rem;
}

/* Wider sidebar on unfolded screen */
@media (min-width: 600px) and (max-width: 900px) {
  [data-zfold="true"] aside {
    width: 280px !important;
  }
  
  [data-zfold="true"] main {
    padding-left: 296px !important;
  }
}

/* Two-column grid optimization for fold screen */
@media (min-width: 600px) and (max-width: 900px) {
  [data-zfold="true"] .grid-cols-3 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}

/* Profile Drawer specific dark/hacker fixes */
[data-theme='dark'] [id*='profile-drawer'] p,
[data-theme='dark'] [id*='profile-drawer'] span,
[data-theme='hacker'] [id*='profile-drawer'] p,
[data-theme='hacker'] [id*='profile-drawer'] span {
  color: inherit !important;
}

/* Activity Feed MiniProfile fixes */
[data-theme='dark'] [data-user-id] span,
[data-theme='dark'] [data-user-id] p,
[data-theme='hacker'] [data-user-id] span,
[data-theme='hacker'] [data-user-id] p {
  color: inherit !important;
}

/* Ensure badges maintain their colors */
[data-theme='dark'] [class*='bg-violet-'] span,
[data-theme='dark'] [class*='bg-emerald-'] span,
[data-theme='dark'] [class*='bg-amber-'] span,
[data-theme='dark'] [class*='bg-blue-'] span,
[data-theme='dark'] [class*='bg-rose-'] span,
[data-theme='hacker'] [class*='bg-violet-'] span,
[data-theme='hacker'] [class*='bg-emerald-'] span,
[data-theme='hacker'] [class*='bg-amber-'] span,
[data-theme='hacker'] [class*='bg-blue-'] span,
[data-theme='hacker'] [class*='bg-rose-'] span {
  color: inherit !important;
}

/* Missions page dark mode text fixes */
[data-theme='dark'] main[data-page='Missions'] h1,
[data-theme='dark'] main[data-page='Missions'] h2,
[data-theme='dark'] main[data-page='Missions'] h3,
[data-theme='dark'] main[data-page='Missions'] h4 {
  color: #ffffff !important;
}

[data-theme='dark'] main[data-page='Missions'] p,
[data-theme='dark'] main[data-page='Missions'] span:not([class*='bg-']),
[data-theme='dark'] main[data-page='Missions'] .text-slate-500,
[data-theme='dark'] main[data-page='Missions'] .text-slate-600,
[data-theme='dark'] main[data-page='Missions'] .text-gray-500,
[data-theme='dark'] main[data-page='Missions'] .text-gray-600 {
  color: #e0e0e0 !important;
}

/* Hacker theme Missions page */
[data-theme='hacker'] main[data-page='Missions'] h1,
[data-theme='hacker'] main[data-page='Missions'] h2,
[data-theme='hacker'] main[data-page='Missions'] h3,
[data-theme='hacker'] main[data-page='Missions'] h4,
[data-theme='hacker'] main[data-page='Missions'] p,
[data-theme='hacker'] main[data-page='Missions'] span:not([class*='bg-']) {
  color: #00ff00 !important;
}
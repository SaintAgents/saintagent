css
/* =====================================================
   CANVAS & LAYERING - CRITICAL FOR BACKGROUND EFFECTS
   ===================================================== */

/* Canvas at z-index -1, behind everything but still visible */
canvas {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  z-index: -1 !important;
  pointer-events: none !important;
}

/* Main content at normal z-index, cards will be above canvas */
main {
  position: relative !important;
  z-index: 1 !important;
}

/* =====================================================
   DARK/HACKER THEME - TRANSPARENT BACKGROUNDS
   ===================================================== */

/* Body background - dark base color */
[data-theme='dark'] body,
[data-theme='hacker'] body {
  background-color: #050505 !important;
}

/* CRITICAL: Force ALL page containers to be transparent in dark themes */
[data-theme='dark'] .min-h-screen,
[data-theme='hacker'] .min-h-screen {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
}

/* Force gradient backgrounds transparent in hacker mode */
[data-theme='hacker'] .bg-gradient-to-br,
[data-theme='hacker'] .bg-gradient-to-b,
[data-theme='hacker'] .bg-gradient-to-t,
[data-theme='hacker'] .bg-gradient-to-r,
[data-theme='hacker'] .bg-gradient-to-l,
[data-theme='hacker'] [class*='from-slate-'],
[data-theme='hacker'] [class*='via-violet-'],
[data-theme='hacker'] [class*='to-slate-'] {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
}

/* Ensure body shows canvas through */
[data-theme='dark'] body,
[data-theme='hacker'] body {
  background-color: #000 !important;
}

/* Force gradient backgrounds transparent */
[data-theme='dark'] [class*='bg-gradient-'],
[data-theme='hacker'] [class*='bg-gradient-'] {
  background: transparent !important;
  background-image: none !important;
}

/* Force slate/white backgrounds transparent */
[data-theme='dark'] [class*='bg-slate-'],
[data-theme='hacker'] [class*='bg-slate-'],
[data-theme='dark'] [class*='bg-white'],
[data-theme='hacker'] [class*='bg-white'],
[data-theme='dark'] [class*='bg-gray-'],
[data-theme='hacker'] [class*='bg-gray-'] {
  background-color: transparent !important;
}

/* =====================================================
   CARDS & CONTAINERS - SEMI-TRANSPARENT
   ===================================================== */

/* Cards get semi-transparent black backgrounds - positioned above canvas */
[data-theme='dark'] .rounded-xl:not(img):not(.hero-image):not([data-no-filter]),
[data-theme='dark'] .rounded-lg:not(img):not(.hero-image):not([data-no-filter]),
[data-theme='dark'] .rounded-2xl:not(img):not(.hero-image):not([data-no-filter]),
[data-theme='dark'] [class*='Card']:not(img) {
  background-color: rgba(0, 0, 0, 0.50) !important;
  border-color: rgba(0, 255, 136, 0.2) !important;
  position: relative;
  z-index: 1;
}
[data-theme='hacker'] .rounded-xl:not(img):not(.hero-image):not([data-no-filter]),
[data-theme='hacker'] .rounded-lg:not(img):not(.hero-image):not([data-no-filter]),
[data-theme='hacker'] .rounded-2xl:not(img):not(.hero-image):not([data-no-filter]),
[data-theme='hacker'] [class*='Card']:not(img) {
  background-color: rgba(0, 0, 0, 0.85) !important;
  border-color: rgba(0, 255, 136, 0.2) !important;
  position: relative;
  z-index: 1;
}

/* Hacker theme - square corners */
[data-theme='hacker'] .rounded-xl:not(img),
[data-theme='hacker'] .rounded-lg:not(img),
[data-theme='hacker'] .rounded-2xl:not(img),
[data-theme='hacker'] .rounded-md:not(img) {
  border-radius: 0 !important;
}

/* =====================================================
   HACKER THEME - GREEN EVERYTHING
   ===================================================== */

/* All text green */
[data-theme='hacker'] * {
  color: #00ff00 !important;
  border-color: #00ff00 !important;
}

/* All images get green filter EXCEPT gauge images */
[data-theme='hacker'] img:not(.gauge-image):not([alt="Trust Gauge"]):not([data-no-filter="true"]) {
  filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
  -webkit-filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
}

/* =====================================================
   HERO IMAGES - PRESERVE
   ===================================================== */

.hero-image,
img.hero-image,
img[data-no-filter="true"],
[data-no-filter="true"] {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Dark theme - no filter on hero images */
[data-theme='dark'] .hero-image,
[data-theme='dark'] img.hero-image,
[data-theme='dark'] img[data-no-filter="true"] {
  filter: none !important;
  -webkit-filter: none !important;
}

/* Gauge images always preserved */
img.gauge-image,
img[alt="Trust Gauge"],
[data-theme='dark'] img.gauge-image,
[data-theme='dark'] img[alt="Trust Gauge"] {
  filter: none !important;
  -webkit-filter: none !important;
}

/* Hacker theme gauge gets green filter */
[data-theme='hacker'] img.gauge-image,
[data-theme='hacker'] img[alt="Trust Gauge"] {
  filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
}

/* =====================================================
   TIP DIALOG - HIGHEST Z-INDEX
   ===================================================== */

/* Ensure tip dialog and all dialogs are above everything */
[role="dialog"][data-state="open"],
.tip-dialog,
[data-radix-popper-content-wrapper] {
  z-index: 99999 !important;
}

/* Dialog overlay */
[data-radix-dialog-overlay] {
  z-index: 99998 !important;
}

/* =====================================================
   DARK THEME - DIALOG/MODAL INPUT VISIBILITY
   ===================================================== */

/* Dialog content needs solid background in dark themes */
[data-theme='dark'] [role="dialog"],
[data-theme='dark'] [data-radix-dialog-content],
[data-theme='hacker'] [role="dialog"],
[data-theme='hacker'] [data-radix-dialog-content] {
  background-color: #0a0a0a !important;
  border: 1px solid rgba(0, 255, 136, 0.3) !important;
}

/* =====================================================
   FLOATING PANELS - DARK THEME OVERRIDE
   ===================================================== */

/* Ensure floating panels are dark themed */
[data-theme='dark'] .fixed.z-\\[110\\],
[data-theme='hacker'] .fixed.z-\\[110\\] {
  background-color: #050505 !important;
  border-color: rgba(0, 255, 136, 0.3) !important;
}

[data-theme='dark'] .fixed.z-\\[110\\] > div:first-child,
[data-theme='hacker'] .fixed.z-\\[110\\] > div:first-child {
  background-color: #0a0a0a !important;
  border-color: rgba(0, 255, 136, 0.2) !important;
  color: #00ff88 !important;
}

[data-theme='dark'] .fixed.z-\\[110\\] .text-slate-600,
[data-theme='hacker'] .fixed.z-\\[110\\] .text-slate-600 {
  color: #00ff88 !important;
}

/* Input fields inside dialogs - solid dark background */
[data-theme='dark'] [role="dialog"] input,
[data-theme='dark'] [role="dialog"] textarea,
[data-theme='dark'] [role="dialog"] select,
[data-theme='dark'] [data-radix-dialog-content] input,
[data-theme='dark'] [data-radix-dialog-content] textarea,
[data-theme='dark'] [data-radix-dialog-content] select,
[data-theme='hacker'] [role="dialog"] input,
[data-theme='hacker'] [role="dialog"] textarea,
[data-theme='hacker'] [role="dialog"] select,
[data-theme='hacker'] [data-radix-dialog-content] input,
[data-theme='hacker'] [data-radix-dialog-content] textarea,
[data-theme='hacker'] [data-radix-dialog-content] select {
  background-color: #1a1a1a !important;
  color: #ffffff !important;
  border-color: rgba(0, 255, 136, 0.4) !important;
}

/* Select dropdown content inside dialogs */
[data-theme='dark'] [data-radix-select-content],
[data-theme='dark'] [data-radix-popper-content-wrapper] [role="listbox"],
[data-theme='hacker'] [data-radix-select-content],
[data-theme='hacker'] [data-radix-popper-content-wrapper] [role="listbox"] {
  background-color: #0a0a0a !important;
  border: 1px solid rgba(0, 255, 136, 0.3) !important;
}

/* Labels inside dialogs */
[data-theme='dark'] [role="dialog"] label,
[data-theme='dark'] [data-radix-dialog-content] label,
[data-theme='hacker'] [role="dialog"] label,
[data-theme='hacker'] [data-radix-dialog-content] label {
  color: #e0e0e0 !important;
}

/* Card backgrounds inside dialogs */
[data-theme='dark'] [role="dialog"] [class*='Card'],
[data-theme='dark'] [data-radix-dialog-content] [class*='Card'],
[data-theme='hacker'] [role="dialog"] [class*='Card'],
[data-theme='hacker'] [data-radix-dialog-content] [class*='Card'] {
  background-color: #0f0f0f !important;
}

/* =====================================================
   HACKER THEME - BADGES GREEN MONOCHROME
   ===================================================== */

/* Badge images in hacker theme should be green monochrome */
[data-theme='hacker'] [class*='BadgesBar'] img,
[data-theme='hacker'] img[alt*="Badge"],
[data-theme='hacker'] .badge-image,
html[data-theme='hacker'] [class*='BadgesBar'] img,
html[data-theme='hacker'] img[alt*="Badge"] {
  filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
  -webkit-filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
}

/* Make badge container visible in hero */
[data-theme='dark'] .absolute.bottom-0 [class*='BadgesBar'],
[data-theme='hacker'] .absolute.bottom-0 [class*='BadgesBar'] {
  background: rgba(0, 0, 0, 0.6) !important;
  padding: 0.5rem !important;
  border-radius: 0.5rem !important;
}

/* Badge text visible in dark themes */
[data-theme='dark'] [class*='BadgesBar'] span,
[data-theme='hacker'] [class*='BadgesBar'] span {
  color: #ffffff !important;
}

/* =====================================================
   DARK THEME TEXT - HIGH CONTRAST
   ===================================================== */

[data-theme='dark'] h1,
[data-theme='dark'] h2,
[data-theme='dark'] h3,
[data-theme='dark'] h4 {
  color: #ffffff !important;
}

[data-theme='dark'] p,
[data-theme='dark'] span,
[data-theme='dark'] div {
  color: #e0e0e0 !important;
}

/* Challenge/Quest cards - ensure high contrast text */
[data-theme='dark'] [class*='text-slate-'],
[data-theme='dark'] [class*='text-gray-'],
[data-theme='dark'] [class*='text-zinc-'] {
  color: #e8e8e8 !important;
}

[data-theme='dark'] [class*='text-slate-900'],
[data-theme='dark'] [class*='text-gray-900'] {
  color: #ffffff !important;
}

[data-theme='dark'] [class*='text-slate-700'],
[data-theme='dark'] [class*='text-gray-700'] {
  color: #f0f0f0 !important;
}

[data-theme='dark'] [class*='text-slate-500'],
[data-theme='dark'] [class*='text-gray-500'] {
  color: #b0b0b0 !important;
}

/* Dark mode: Fix gold/yellow titles to emerald green */
[data-theme='dark'] [class*='text-yellow-'],
[data-theme='dark'] [class*='text-amber-'] {
  color: #10b981 !important;
}

/* Dark mode: Fix badge backgrounds - emerald green tones */
[data-theme='dark'] [class*='bg-yellow-'],
[data-theme='dark'] [class*='bg-amber-'] {
  background-color: rgba(16, 185, 129, 0.2) !important;
  border-color: #10b981 !important;
}

/* Dark theme: Avatar card badges should match stats bar style */
[data-theme='dark'] [data-avatar-card] .bg-gradient-to-l.from-amber-50.to-orange-50,
[data-theme='dark'] [data-avatar-card] [class*='bg-gradient-to-l'] {
  background: rgba(5, 5, 5, 0.75) !important;
  background-color: rgba(5, 5, 5, 0.75) !important;
  background-image: none !important;
  border-color: rgba(0, 255, 136, 0.2) !important;
}

/* Dark mode: Brighten subtitle text */
[data-theme='dark'] .text-slate-600,
[data-theme='dark'] [class*='text-slate-600'] {
  color: #d0d0d0 !important;
}

[data-theme='dark'] .text-slate-700,
[data-theme='dark'] [class*='text-slate-700'] {
  color: #e0e0e0 !important;
}

/* Dark mode: Fix purple text to emerald green */
[data-theme='dark'] [class*='text-purple-'],
[data-theme='dark'] [class*='text-violet-'] {
  color: #10b981 !important;
}

/* Dark mode: Fix purple/violet backgrounds to emerald green */
[data-theme='dark'] [class*='bg-purple-'],
[data-theme='dark'] [class*='bg-violet-'] {
  background-color: rgba(16, 185, 129, 0.15) !important;
  border-color: rgba(16, 185, 129, 0.3) !important;
}

/* Progress numbers and labels */
[data-theme='dark'] .font-medium,
[data-theme='dark'] .font-semibold,
[data-theme='dark'] .font-bold {
  color: #ffffff !important;
}

/* Card titles */
[data-theme='dark'] [class*='CardTitle'] {
  color: #ffffff !important;
}

/* Badge text */
[data-theme='dark'] [class*='Badge'] {
  color: #ffffff !important;
}

/* Dark/Hacker theme buttons - ensure readable text */
[data-theme='dark'] button,
[data-theme='dark'] [role="button"] {
  color: #ffffff !important;
}

[data-theme='dark'] button span,
[data-theme='dark'] [role="button"] span {
  color: inherit !important;
}

[data-theme='hacker'] button,
[data-theme='hacker'] [role="button"] {
  color: #00ff00 !important;
}

[data-theme='hacker'] button span,
[data-theme='hacker'] [role="button"] span {
  color: inherit !important;
}

/* Ensure badge/pill text is visible in dark themes */
[data-theme='dark'] [class*='badge'],
[data-theme='dark'] .badge {
  color: #ffffff !important;
}

[data-theme='hacker'] [class*='badge'],
[data-theme='hacker'] .badge {
  color: #00ff00 !important;
}

/* Page titles and headings - force white in dark mode */
[data-theme='dark'] .text-3xl,
[data-theme='dark'] .text-4xl,
[data-theme='dark'] .text-2xl,
[data-theme='dark'] .text-xl,
[data-theme='dark'] .text-lg {
  color: #ffffff !important;
}

/* Section headers and card headers */
[data-theme='dark'] [class*='Header'] h1,
[data-theme='dark'] [class*='Header'] h2,
[data-theme='dark'] [class*='Header'] h3,
[data-theme='dark'] [class*='Header'] p {
  color: #ffffff !important;
}

/* =====================================================
   WALLET PANEL - THEME AWARE
   ===================================================== */

[data-theme='dark'] [data-wallet-panel],
[data-theme='hacker'] [data-wallet-panel] {
  background-color: #0a1f0a !important;
}

/* =====================================================
   HERO SECTION SIZING
   ===================================================== */

.page-hero {
  height: 256px;
}

@media (min-width: 768px) {
  .page-hero {
    height: 288px;
  }
}

[data-theme='dark'] .page-hero {
  height: 480px !important;
  min-height: 480px !important;
}

[data-theme='hacker'] .page-hero {
  height: 480px !important;
  min-height: 480px !important;
}

/* =====================================================
   LIGHT THEME FIXES
   ===================================================== */

[data-theme='light'] button[role="checkbox"],
[data-theme='light'] [data-state="checked"] {
  border-color: #7c3aed !important;
  background-color: #7c3aed !important;
}

[data-theme='light'] button[role="checkbox"] svg {
  color: white !important;
  stroke: white !important;
}

[data-theme='light'] label,
[data-theme='light'] .text-slate-500,
[data-theme='light'] .text-slate-600 {
  color: #334155 !important;
}

/* =====================================================
   MOBILE-FIRST RESPONSIVE LAYOUT
   ===================================================== */

/* Mobile: Single column card stack */
@media (max-width: 767px) {
  /* Hide desktop sidebar on mobile - handled by Tailwind hidden md:flex */
  
  /* Ensure topbar starts from left edge on mobile */
  header {
    left: 0 !important;
  }
  
  /* Remove sidebar padding on mobile */
  main {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  
  /* Full width cards on mobile */
  .grid-cols-2,
  .grid-cols-3,
  .grid-cols-4,
  .grid-cols-5,
  .grid-cols-6,
  .grid-cols-7,
  .lg\\:grid-cols-2,
  .lg\\:grid-cols-3,
  .lg\\:grid-cols-4,
  .lg\\:grid-cols-6,
  .lg\\:grid-cols-7,
  .md\\:grid-cols-2,
  .md\\:grid-cols-3,
  .md\\:grid-cols-4,
  .md\\:grid-cols-5 {
    grid-template-columns: 1fr !important;
  }
  
  /* Exception: Keep 2 columns for small stat tiles */
  .grid-cols-2.gap-3 > div[class*="p-3"][class*="rounded-xl"] {
    /* Allow 2-col for small tiles */
  }
  
  /* Mobile padding adjustments - edge to edge */
  .px-6,
  .px-4,
  .px-2 {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Main content full width on mobile */
  main {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Sidebar padding removed on mobile */
  .pl-64,
  .pl-20 {
    padding-left: 0 !important;
  }
  
  /* Command Deck specific - minimal padding on mobile */
  main[data-page='CommandDeck'] {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  main[data-page='CommandDeck'] .px-2 {
    padding-left: 0.25rem !important;
    padding-right: 0.25rem !important;
  }

  /* Cards rounded corners smaller on mobile for more space */
  main[data-page='CommandDeck'] .rounded-2xl {
    border-radius: 0.5rem !important;
  }

  /* Card internal padding tighter */
  main[data-page='CommandDeck'] [data-avatar-card] {
    padding: 0.375rem !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* Max width container should be full width on mobile */
  main[data-page='CommandDeck'] .max-w-7xl,
  main .max-w-7xl {
    max-width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* All page containers full width on mobile */
  main > div {
    max-width: 100% !important;
  }
  
  /* Hide side panel on mobile */
  [data-side-panel],
  .pr-80 {
    padding-right: 0 !important;
  }
  
  /* Bottom padding for tab bar */
  .pb-20 {
    padding-bottom: 5rem !important;
  }
  
  /* Smaller text on mobile */
  .text-3xl {
    font-size: 1.5rem !important;
  }
  
  .text-2xl {
    font-size: 1.25rem !important;
  }
  
  /* Mobile avatar size */
  [data-avatar-card] .shrink-0 > div {
    width: 100px !important;
    height: 100px !important;
  }
  
  /* Stack avatar card content vertically on mobile */
  [data-avatar-card] .relative.z-10.flex.items-start.gap-6 {
    flex-direction: column !important;
    gap: 1rem !important;
  }
  
  /* Center avatar on mobile */
  [data-avatar-card] .relative.shrink-0 {
    margin: 0 auto !important;
  }
  
  /* Trust gauge positioning on mobile */
  [data-avatar-card] .flex.items-start.justify-between {
    flex-direction: column !important;
    align-items: center !important;
  }
  
  /* Full width stats bar on mobile */
  [data-stats-bar] {
    grid-template-columns: repeat(2, 1fr) !important;
  }
  
  /* Hide right panel completely on mobile */
  [data-side-panel] {
    display: none !important;
  }
  
  /* Safe area for bottom tab bar */
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
  
  /* Mobile topbar adjustments - less padding since topbar is smaller */
  .pt-28 {
    padding-top: 4rem !important;
  }

  /* Compact topbar on mobile */
  header {
    min-height: 48px;
  }

  /* Ensure topbar buttons are clickable on mobile */
  header button,
  header a {
    position: relative;
    z-index: 10;
  }
  }

/* Tablet adjustments */
@media (min-width: 768px) and (max-width: 1023px) {
  /* 2 columns on tablet */
  .lg\\:grid-cols-3,
  .lg\\:grid-cols-4,
  .lg\\:grid-cols-6,
  .lg\\:grid-cols-7 {
    grid-template-columns: repeat(2, 1fr) !important;
  }
  
  /* Narrower side panel on tablet */
  .pr-80 {
    padding-right: 18rem !important;
  }
}

/* =====================================================
   Z FOLD OPTIMIZATION
   ===================================================== */

/* Detect Z Fold or tablet devices and set optimization flag */
@media (min-width: 600px) and (max-width: 900px) {
  :root {
    --is-tablet: 1;
    --touch-target-min: 48px;
  }
  
  /* Larger touch targets for tablet */
  button,
  [role="button"],
  a {
    min-height: var(--touch-target-min);
    min-width: var(--touch-target-min);
  }
  
  /* Optimized text sizing for tablet */
  body {
    font-size: 16px;
  }
  
  /* Better spacing for tablet */
  .p-3 {
    padding: 1rem !important;
  }
  
  .p-4 {
    padding: 1.25rem !important;
  }
  
  /* Larger sidebar for tablet */
  aside,
  [data-sidebar] {
    width: 280px !important;
  }
  
  /* Better side panel width for tablet */
  [data-side-panel] {
    width: 360px !important;
  }
}

[data-zfold="true"] {
  --touch-target-min: 48px;
}

[data-zfold="true"] button,
[data-zfold="true"] [role="button"],
[data-zfold="true"] a {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
}
/* =====================================================
   CANVAS & LAYERING - CRITICAL FOR BACKGROUND EFFECTS
   ===================================================== */

/* Canvas always at z-index 0, fixed position behind everything */
canvas {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  z-index: 0 !important;
  pointer-events: none !important;
}

/* All page content above canvas at z-index 1 */
main {
  position: relative !important;
  z-index: 1 !important;
}

/* =====================================================
   DARK/HACKER THEME - TRANSPARENT BACKGROUNDS
   ===================================================== */

/* Body background - dark base color */
[data-theme='dark'] body,
[data-theme='hacker'] body {
  background-color: #050505 !important;
}

/* CRITICAL: Force ALL page containers to be transparent in dark themes */
[data-theme='dark'] .min-h-screen,
[data-theme='hacker'] .min-h-screen {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
}

/* Force gradient backgrounds transparent */
[data-theme='dark'] [class*='bg-gradient-'],
[data-theme='hacker'] [class*='bg-gradient-'] {
  background: transparent !important;
  background-image: none !important;
}

/* Force slate/white backgrounds transparent */
[data-theme='dark'] [class*='bg-slate-'],
[data-theme='hacker'] [class*='bg-slate-'],
[data-theme='dark'] [class*='bg-white'],
[data-theme='hacker'] [class*='bg-white'],
[data-theme='dark'] [class*='bg-gray-'],
[data-theme='hacker'] [class*='bg-gray-'] {
  background-color: transparent !important;
}

/* =====================================================
   CARDS & CONTAINERS - SEMI-TRANSPARENT
   ===================================================== */

/* Cards get semi-transparent black backgrounds - but NOT grid containers */
[data-theme='dark'] .rounded-xl:not(img):not(.hero-image):not([data-no-filter]):not(.grid):not([class*='grid-cols']),
[data-theme='dark'] .rounded-lg:not(img):not(.hero-image):not([data-no-filter]):not(.grid):not([class*='grid-cols']),
[data-theme='dark'] .rounded-2xl:not(img):not(.hero-image):not([data-no-filter]):not(.grid):not([class*='grid-cols']),
[data-theme='dark'] [class*='Card']:not(img),
[data-theme='hacker'] .rounded-xl:not(img):not(.hero-image):not([data-no-filter]):not(.grid):not([class*='grid-cols']),
[data-theme='hacker'] .rounded-lg:not(img):not(.hero-image):not([data-no-filter]):not(.grid):not([class*='grid-cols']),
[data-theme='hacker'] .rounded-2xl:not(img):not(.hero-image):not([data-no-filter]):not(.grid):not([class*='grid-cols']),
[data-theme='hacker'] [class*='Card']:not(img) {
  background-color: rgba(0, 0, 0, 0.75) !important;
  border-color: rgba(0, 255, 136, 0.2) !important;
}

/* Grid containers should be transparent */
[data-theme='dark'] .grid,
[data-theme='hacker'] .grid,
[data-theme='dark'] [class*='grid-cols'],
[data-theme='hacker'] [class*='grid-cols'],
[data-theme='dark'] [class*='col-span'],
[data-theme='hacker'] [class*='col-span'],
[data-theme='dark'] [class*='space-y'],
[data-theme='hacker'] [class*='space-y'],
[data-theme='dark'] [class*='max-w-'],
[data-theme='hacker'] [class*='max-w-'] {
  background-color: transparent !important;
  background: transparent !important;
}

/* Hacker theme - square corners */
[data-theme='hacker'] .rounded-xl:not(img),
[data-theme='hacker'] .rounded-lg:not(img),
[data-theme='hacker'] .rounded-2xl:not(img),
[data-theme='hacker'] .rounded-md:not(img) {
  border-radius: 0 !important;
}

/* =====================================================
   HACKER THEME - GREEN EVERYTHING
   ===================================================== */

/* All text green */
[data-theme='hacker'] * {
  color: #00ff00 !important;
  border-color: #00ff00 !important;
}

/* All images get green filter EXCEPT gauge images */
[data-theme='hacker'] img:not(.gauge-image):not([alt="Trust Gauge"]):not([data-no-filter="true"]) {
  filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
  -webkit-filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
}

/* =====================================================
   HERO IMAGES - PRESERVE
   ===================================================== */

.hero-image,
img.hero-image,
img[data-no-filter="true"],
[data-no-filter="true"] {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* Dark theme - no filter on hero images */
[data-theme='dark'] .hero-image,
[data-theme='dark'] img.hero-image,
[data-theme='dark'] img[data-no-filter="true"] {
  filter: none !important;
  -webkit-filter: none !important;
}

/* Gauge images always preserved */
img.gauge-image,
img[alt="Trust Gauge"],
[data-theme='dark'] img.gauge-image,
[data-theme='dark'] img[alt="Trust Gauge"] {
  filter: none !important;
  -webkit-filter: none !important;
}

/* Hacker theme gauge gets green filter */
[data-theme='hacker'] img.gauge-image,
[data-theme='hacker'] img[alt="Trust Gauge"] {
  filter: grayscale(100%) brightness(0.8) sepia(100%) hue-rotate(70deg) saturate(500%) !important;
}

/* =====================================================
   DARK THEME TEXT - HIGH CONTRAST
   ===================================================== */

[data-theme='dark'] h1,
[data-theme='dark'] h2,
[data-theme='dark'] h3,
[data-theme='dark'] h4 {
  color: #ffffff !important;
}

[data-theme='dark'] p,
[data-theme='dark'] span,
[data-theme='dark'] div {
  color: #e0e0e0 !important;
}

/* =====================================================
   WALLET PANEL - FORCE DARK
   ===================================================== */

[data-wallet-panel] {
  background-color: #0a1f0a !important;
}

[data-theme='dark'] [data-wallet-panel],
[data-theme='hacker'] [data-wallet-panel] {
  background-color: #000000 !important;
}

/* =====================================================
   HERO SECTION SIZING
   ===================================================== */

.page-hero {
  height: 256px;
}

@media (min-width: 768px) {
  .page-hero {
    height: 288px;
  }
}

[data-theme='dark'] .page-hero,
[data-theme='hacker'] .page-hero {
  height: 80px !important;
  min-height: 80px !important;
  max-height: 80px !important;
}

/* =====================================================
   LIGHT THEME FIXES
   ===================================================== */

[data-theme='light'] button[role="checkbox"],
[data-theme='light'] [data-state="checked"] {
  border-color: #7c3aed !important;
  background-color: #7c3aed !important;
}

[data-theme='light'] button[role="checkbox"] svg {
  color: white !important;
  stroke: white !important;
}

[data-theme='light'] label,
[data-theme='light'] .text-slate-500,
[data-theme='light'] .text-slate-600 {
  color: #334155 !important;
}

/* =====================================================
   Z FOLD OPTIMIZATION
   ===================================================== */

[data-zfold="true"] {
  --touch-target-min: 48px;
}

[data-zfold="true"] button,
[data-zfold="true"] [role="button"],
[data-zfold="true"] a {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
}